import{d as e,c as a,a as l,b as t,F as u,o as s,r as n,w as r,p as b,e as v,t as c,f as i,g as o,h as d,i as h}from"./vendor.e9f583e2.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(l){const t=new URL(e,location),u=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((l,s)=>{const n=new URL(e,t);if(self[a].moduleMap[n])return l(self[a].moduleMap[n]);const r=new Blob([`import * as m from '${n}';`,`${a}.moduleMap['${n}']=m;`],{type:"text/javascript"}),b=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){s(new Error(`Failed to import: ${e}`)),u(b)},onload(){l(self[a].moduleMap[n]),u(b)}});document.head.appendChild(b)})),self[a].moduleMap={}}}("/cardiff-vaccine-progress/assets/");var p=e({name:"VaccineGraph",props:{chartData:{type:Array,required:!0}},data:function(){return{chart:{},overallChart:{},dataType:"value",population:500490}},computed:{dates:function(){return this.chartData.map((e=>e.label))},firstVaccines:function(){return this.chartData.map((e=>this.getChartPoint(e.value[0])))},secondVaccines:function(){return this.chartData.map((e=>this.getChartPoint(e.value[1])))},partialVaccines:function(){return this.chartData.map((e=>this.getChartPoint(e.value[0])-this.getChartPoint(e.value[1])))},newFirstDoses:function(){return this.chartData.map(((e,a)=>this.chartData[a-1]?this.getNumber(e.value[0])-this.getNumber(this.chartData[a-1].value[0]):this.getNumber(e.value[0])))},newSecondDoses:function(){return this.chartData.map(((e,a)=>this.chartData[a-1]?this.getNumber(e.value[1])-this.getNumber(this.chartData[a-1].value[1]):this.getNumber(e.value[1])))}},methods:{getNumber:function(e){return~~e.replace(",","")},getChartPoint:function(e){const a=this.getNumber(e);return"percentage"===this.dataType?this.calculatePercentage(a):a},calculatePercentage:function(e){return Math.round(e/this.population*1e3)/10},updateChart:function(){this.chart.load({columns:[["x",...this.dates],["1st doses",...this.firstVaccines],["2nd doses",...this.secondVaccines]]})},setDataType:function(e){this.dataType=e,this.updateChart()}},mounted:function(){this.chart=a.generate({bindto:"#chart1",data:{x:"x",columns:[["x",...this.dates],["1st doses",...this.firstVaccines],["2nd doses",...this.secondVaccines]]},axis:{x:{type:"timeseries",tick:{format:"%e %b %y"}},y:{padding:{bottom:0}}}}),this.overallChart=a.generate({bindto:"#overall-chart",data:{x:"x",columns:[["x",...this.dates],["Partially vaccinated",...this.partialVaccines],["Fully vaccinated",...this.secondVaccines],["New 1st dose",...this.newFirstDoses],["New 2nd dose",...this.newSecondDoses]],colors:{"Partially vaccinated":"rgba(52,152,219,0.5)","Fully vaccinated":"rgba(232,62,140,0.5)","New 1st dose":"rgba(102,16,242,1)","New 2nd dose":"rgba(55,90,127,1)"},type:"bar",types:{"New 1st dose":"line","New 2nd dose":"line"},groups:[["Fully vaccinated","Partially vaccinated"]],order:null,axes:{"New 1st dose":"y2","New 2nd dose":"y2"}},axis:{x:{type:"timeseries",tick:{format:"%e %b %y"}},y:{padding:{bottom:0}},y2:{show:!0,padding:{bottom:0}}},bar:{space:-.3}})}});const m=t("h2",{class:"title is-2"},"Progress",-1),f=t("div",{id:"overall-chart"},null,-1),g=t("hr",null,null,-1),D={class:"buttons has-addons"},y=t("div",{id:"chart1"},null,-1);p.render=function(e,a,n,r,b,v){return s(),l(u,null,[m,f,g,t("div",D,[t("button",{class:["button",{"is-active":"value"===e.dataType}],onClick:a[1]||(a[1]=a=>e.setDataType("value"))},"Raw values",2),t("button",{class:["button",{"is-active":"percentage"===e.dataType}],onClick:a[2]||(a[2]=a=>e.setDataType("percentage"))},"Per 100",2)]),y],64)};var w=e({name:"VaccineTable",props:{chartData:{type:Array,required:!0}},data:function(){return{population:500490}},computed:{sortedData:function(){return[...this.chartData].reverse()}},methods:{getNumber:function(e){return~~e.replace(",","")},calculatePercentage:function(e){return Math.round(this.getNumber(e)/this.population*1e3)/10},getValueDifference:function(e,a){return this.sortedData[e+1]?this.getNumber(this.sortedData[e].value[a])-this.getNumber(this.sortedData[e+1].value[a]):this.getNumber(this.sortedData[e].value[a])}}});const x=r();b("data-v-01b5e458");const N=t("h2",{class:"title is-2"},"Data",-1),P={class:"columns is-centered"},V={class:"column is-narrow"},k={class:"table-container"},C={class:"table is-striped is-hoverable is-fullwidth"},T=t("thead",null,[t("tr",null,[t("th",null,"Date"),t("th",{class:"has-text-centered"},"1st doses (new)"),t("th",{class:"has-text-centered"},"per 100"),t("th",{class:"has-text-centered"},"2nd doses (new)"),t("th",{class:"has-text-centered"},"per 100")])],-1),_={class:"has-text-centered"},L={class:"is-size-7"},M={class:"has-text-centered"},F={class:"has-text-centered"},R={class:"is-size-7"},G={class:"has-text-centered"},U=t("tfoot",null,[t("tr",null,[t("th",null,"Date"),t("th",{class:"has-text-centered"},"1st doses (new)"),t("th",{class:"has-text-centered"},"per 100"),t("th",{class:"has-text-centered"},"2nd doses (new)"),t("th",{class:"has-text-centered"},"per 100")])],-1);v();const j=x(((e,a,r,b,v,o)=>(s(),l(u,null,[N,t("div",P,[t("div",V,[t("div",k,[t("table",C,[T,t("tbody",null,[(s(!0),l(u,null,n(e.sortedData,((a,u)=>(s(),l("tr",{key:u},[t("td",null,[t("strong",null,c(new Date(a.label).toLocaleDateString("en-GB",{dateStyle:"short"})),1)]),t("td",_,[i(c(a.value[0])+" ",1),t("em",L," ("+c(e.getValueDifference(u,0))+")",1)]),t("td",M,c(e.calculatePercentage(a.value[0])),1),t("td",F,[i(c(a.value[1])+" ",1),t("em",R," ("+c(e.getValueDifference(u,1))+")",1)]),t("td",G,c(e.calculatePercentage(a.value[1])),1)])))),128))]),U])])])])],64))));w.render=j,w.__scopeId="data-v-01b5e458";var O=[{label:"2020-12-07",value:["16","1"]},{label:"2020-12-08",value:["261","5"]},{label:"2020-12-09",value:["486","5"]},{label:"2020-12-10",value:["719","5"]},{label:"2020-12-11",value:["976","6"]},{label:"2020-12-12",value:["1,254","7"]},{label:"2020-12-13",value:["1,480","7"]},{label:"2020-12-14",value:["1,804","9"]},{label:"2020-12-15",value:["2,210","9"]},{label:"2020-12-16",value:["2,211","9"]},{label:"2020-12-17",value:["2,444","10"]},{label:"2020-12-18",value:["2,781","10"]},{label:"2020-12-19",value:["3,084","10"]},{label:"2020-12-20",value:["3,282","10"]},{label:"2020-12-21",value:["3,583","11"]},{label:"2020-12-22",value:["3,903","11"]},{label:"2020-12-23",value:["4,215","11"]},{label:"2020-12-24",value:["4,462","11"]},{label:"2020-12-28",value:["4,700","11"]},{label:"2020-12-29",value:["5,041","12"]},{label:"2020-12-30",value:["5,380","12"]},{label:"2020-12-31",value:["5,647","12"]},{label:"2021-01-01",value:["5,987","13"]},{label:"2021-01-02",value:["6,322","13"]},{label:"2021-01-03",value:["6,657","18"]},{label:"2021-01-04",value:["7,308","19"]},{label:"2021-01-05",value:["7,984","19"]},{label:"2021-01-06",value:["8,707","22"]},{label:"2021-01-07",value:["9,488","28"]},{label:"2021-01-08",value:["10,499","28"]},{label:"2021-01-09",value:["11,465","31"]},{label:"2021-01-10",value:["12,380","34"]},{label:"2021-01-11",value:["13,653","39"]},{label:"2021-01-12",value:["15,279","41"]},{label:"2021-01-13",value:["17,033","42"]},{label:"2021-01-14",value:["18,831","48"]},{label:"2021-01-15",value:["21,494","83"]},{label:"2021-01-16",value:["23,512","91"]},{label:"2021-01-17",value:["24,984","102"]},{label:"2021-01-18",value:["27,030","108"]},{label:"2021-01-19",value:["29,581","129"]},{label:"2021-01-20",value:["32,101","135"]},{label:"2021-01-21",value:["34,847","140"]},{label:"2021-01-22",value:["38,145","153"]},{label:"2021-01-23",value:["41,266","167"]},{label:"2021-01-24",value:["42,853","170"]},{label:"2021-01-25",value:["45,609","182"]},{label:"2021-01-26",value:["48,569","190"]},{label:"2021-01-27",value:["51,385","196"]},{label:"2021-01-28",value:["54,205","203"]},{label:"2021-01-29",value:["57,558","209"]},{label:"2021-01-30",value:["61,387","217"]},{label:"2021-01-31",value:["63,277","221"]},{label:"2021-02-01",value:["65,945","225"]},{label:"2021-02-02",value:["69,227","236"]},{label:"2021-02-03",value:["72,397","263"]},{label:"2021-02-04",value:["74,842","268"]},{label:"2021-02-05",value:["78,720","273"]},{label:"2021-02-06",value:["83,630","292"]},{label:"2021-02-07",value:["85,601","300"]},{label:"2021-02-08",value:["89,144","306"]},{label:"2021-02-09",value:["93,471","311"]},{label:"2021-02-10",value:["97,522","329"]},{label:"2021-02-11",value:["101,632","337"]},{label:"2021-02-12",value:["105,907","347"]},{label:"2021-02-13",value:["109,382","357"]},{label:"2021-02-14",value:["111,782","428"]},{label:"2021-02-15",value:["112,873","1,413"]},{label:"2021-02-16",value:["114,169","2,398"]},{label:"2021-02-17",value:["115,798","3,390"]},{label:"2021-02-18",value:["117,010","4,378"]},{label:"2021-02-19",value:["118,645","5,369"]},{label:"2021-02-20",value:["119,285","6,362"]},{label:"2021-02-21",value:["119,937","7,351"]},{label:"2021-02-22",value:["121,188","8,802"]},{label:"2021-02-23",value:["122,625","10,219"]},{label:"2021-02-24",value:["124,281","11,658"]},{label:"2021-02-25",value:["125,377","13,079"]},{label:"2021-02-26",value:["126,990","14,502"]},{label:"2021-02-27",value:["128,175","15,920"]},{label:"2021-02-28",value:["128,567","17,310"]},{label:"2021-03-01",value:["130,288","18,931"]},{label:"2021-03-02",value:["132,384","20,649"]},{label:"2021-03-03",value:["134,175","22,140"]},{label:"2021-03-04",value:["135,723","23,821"]},{label:"2021-03-05",value:["137,341","25,339"]},{label:"2021-03-06",value:["138,675","26,821"]},{label:"2021-03-07",value:["139,890","28,258"]},{label:"2021-03-08",value:["141,587","29,772"]},{label:"2021-03-09",value:["143,643","31,212"]},{label:"2021-03-10",value:["145,815","32,662"]},{label:"2021-03-11",value:["148,078","34,159"]},{label:"2021-03-12",value:["149,936","35,841"]},{label:"2021-03-13",value:["151,789","37,262"]},{label:"2021-03-14",value:["153,547","38,671"]},{label:"2021-03-15",value:["155,738","40,696"]},{label:"2021-03-16",value:["158,183","42,431"]},{label:"2021-03-17",value:["160,467","44,300"]},{label:"2021-03-18",value:["162,718","45,989"]},{label:"2021-03-19",value:["164,589","47,831"]},{label:"2021-03-20",value:["166,365","49,468"]},{label:"2021-03-21",value:["168,371","51,275"]},{label:"2021-03-22",value:["170,491","52,905"]},{label:"2021-03-23",value:["172,554","54,285"]},{label:"2021-03-24",value:["174,724","55,584"]},{label:"2021-03-25",value:["177,677","57,002"]},{label:"2021-03-26",value:["180,683","58,457"]},{label:"2021-03-27",value:["183,766","59,868"]},{label:"2021-03-28",value:["187,172","61,049"]},{label:"2021-03-29",value:["190,627","62,488"]},{label:"2021-03-30",value:["194,022","64,050"]},{label:"2021-03-31",value:["197,314","65,705"]},{label:"2021-04-01",value:["200,650","67,377"]},{label:"2021-04-02",value:["204,257","68,640"]},{label:"2021-04-03",value:["207,832","69,892"]},{label:"2021-04-04",value:["210,923","71,057"]},{label:"2021-04-05",value:["211,388","71,864"]},{label:"2021-04-06",value:["212,135","72,892"]},{label:"2021-04-07",value:["214,899","73,865"]},{label:"2021-04-08",value:["216,664","74,724"]},{label:"2021-04-09",value:["219,285","75,901"]},{label:"2021-04-10",value:["222,490","77,627"]},{label:"2021-04-11",value:["225,821","77,653"]},{label:"2021-04-12",value:["228,514","78,723"]},{label:"2021-04-13",value:["231,678","79,840"]},{label:"2021-04-14",value:["234,954","80,981"]},{label:"2021-04-15",value:["237,363","81,940"]},{label:"2021-04-16",value:["239,448","83,347"]},{label:"2021-04-17",value:["241,282","86,035"]},{label:"2021-04-18",value:["243,151","86,095"]},{label:"2021-04-19",value:["244,530","87,292"]},{label:"2021-04-20",value:["248,776","88,698"]},{label:"2021-04-21",value:["253,240","90,211"]},{label:"2021-04-22",value:["257,755","91,144"]},{label:"2021-04-23",value:["262,338","92,730"]},{label:"2021-04-24",value:["267,481","95,234"]},{label:"2021-04-25",value:["272,442","95,705"]},{label:"2021-04-26",value:["274,246","97,416"]},{label:"2021-04-27",value:["276,797","99,749"]},{label:"2021-04-28",value:["279,427","101,569"]},{label:"2021-04-29",value:["282,230","103,701"]},{label:"2021-04-30",value:["284,813","106,014"]},{label:"2021-05-01",value:["287,221","107,089"]},{label:"2021-05-02",value:["289,626","107,889"]},{label:"2021-05-03",value:["291,639","108,627"]},{label:"2021-05-04",value:["294,713","110,218"]},{label:"2021-05-05",value:["297,044","111,951"]},{label:"2021-05-06",value:["299,385","113,524"]},{label:"2021-05-07",value:["301,461","114,974"]},{label:"2021-05-08",value:["303,469","116,092"]},{label:"2021-05-09",value:["305,606","116,694"]},{label:"2021-05-10",value:["307,413","117,640"]},{label:"2021-05-11",value:["309,916","119,139"]},{label:"2021-05-12",value:["312,378","120,666"]},{label:"2021-05-13",value:["314,830","121,792"]},{label:"2021-05-14",value:["317,163","123,443"]},{label:"2021-05-15",value:["319,434","124,779"]},{label:"2021-05-16",value:["321,577","125,199"]},{label:"2021-05-17",value:["323,302","126,833"]},{label:"2021-05-18",value:["325,444","129,087"]},{label:"2021-05-19",value:["327,517","130,703"]},{label:"2021-05-20",value:["329,468","132,275"]},{label:"2021-05-21",value:["331,309","133,856"]},{label:"2021-05-22",value:["333,059","135,278"]},{label:"2021-05-23",value:["334,493","136,494"]},{label:"2021-05-24",value:["335,736","138,007"]},{label:"2021-05-25",value:["337,196","140,000"]},{label:"2021-05-26",value:["338,696","142,068"]},{label:"2021-05-27",value:["340,184","144,028"]},{label:"2021-05-28",value:["341,647","146,024"]},{label:"2021-05-29",value:["343,006","147,623"]},{label:"2021-05-30",value:["344,032","149,167"]},{label:"2021-05-31",value:["344,709","151,351"]},{label:"2021-06-01",value:["344,977","154,497"]},{label:"2021-06-02",value:["345,246","157,737"]},{label:"2021-06-03",value:["345,627","160,657"]},{label:"2021-06-04",value:["345,936","163,100"]},{label:"2021-06-05",value:["346,256","165,591"]},{label:"2021-06-06",value:["346,619","168,465"]},{label:"2021-06-07",value:["346,740","171,724"]},{label:"2021-06-08",value:["346,971","175,038"]},{label:"2021-06-09",value:["347,137","178,359"]},{label:"2021-06-10",value:["347,327","181,706"]},{label:"2021-06-11",value:["347,452","185,063"]},{label:"2021-06-12",value:["347,665","188,198"]},{label:"2021-06-13",value:["347,793","190,149"]}],S=e({name:"App",components:{VaccineGraph:p,VaccineTable:w},data:function(){return{chartData:O}}});const q={class:"container"},$=t("h1",{class:"title is-1"},"Cardiff & Vale - Vaccination Progress",-1),z=o('<footer class="footer"><div class="content has-text-centered"><p> Made by <a target="_blank" href="https://linktr.ee/moon.quddus">Moon Quddus</a>. The <a target="_blank" href="https://github.com/moonquddus/cardiff-vaccine-progress">source code</a> is licensed <a target="_blank" rel="nofollow" href="https://www.gnu.org/licenses/gpl-3.0.en.html">GNU General Public License (GPL), version 3</a>. </p><p> Vaccination data provided by <a target="_blank" rel="nofollow" href="https://public.tableau.com/profile/public.health.wales.health.protection#!/vizhome/RapidCOVID-19virology-Public/Headlinesummary">Public Health Wales Health Protection, via Tableau</a>. Population estimate provided by <a target="_blank" rel="nofollow" href="https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland">ONS</a>. </p></div></footer>',1);S.render=function(e,a,n,r,b,v){const c=d("VaccineGraph"),i=d("VaccineTable");return s(),l(u,null,[t("section",null,[t("div",q,[$,t(c,{chartData:e.chartData},null,8,["chartData"]),t(i,{chartData:e.chartData},null,8,["chartData"])])]),z],64)},h(S).mount("#app");
